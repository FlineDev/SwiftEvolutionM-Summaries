# Package Registry Authentication (Summary)

* Full Proposal: [SE-0378](https://github.com/apple/swift-evolution/blob/main/proposals/0378-package-registry-auth.md)
* Summary Author: [Cihat Gündüz](https://fline.dev/about)
* Article: [Swift Evolution Monthly: December ‘22](https://www.fline.dev/swift-evolution-monthly-december-22/#se-0378-package-registry-authentication)

Before we get to the news of this proposal, let me first clarify what a "package registry" is, as this newsletter was started *after* they were accepted to Swift and thus I didn’t cover them yet. [SE-0292: Package Registry Service](https://github.com/apple/swift-evolution/blob/main/proposals/0292-package-registry-service.md?ref=fline.dev), which was only recently shipped with Swift 5.7 (in Xcode 14), adds an alternative way of declaring package dependencies when using SwiftPM. Instead of using Git and its actions like `clone` or `checkout` for fetching dependencies by SwiftPM, the idea of a package registry is to define a **RESTful API** as an alternative to fetching via Git. A true API like provided by a package registry has performance and reliability advantages compared to using Git for dependency resolution and fetching. The good news is, from an app or framework developers perspective, these details are hidden by SwiftPM and the registry services that implement them. Unless you plan on implementing such a registry service yourself (which might make sense for larger companies, please read the full proposals in that case!), all you need to know is this:

Thanks to SE-0292, starting with Swift 5.7 whenever you add a dependency to your projects using SwiftPM, you can decide to either provide the GitHub URL (which was always possible) or alternatively provide a sort of identifier for the project consisting of a `scope` and the `name` of the package, e.g. something like `FlineDev/HandySwift`. In this example, `FlineDev` is my personal GitHub organization name which serves as the scope and `HandySwift` (a lib where I extract my reusable Swift code to) uniquely identifies a convenience library *within* that scope. Now, SwiftPM will search package registries you’re signed in to in order to find and download a version of my `HandySwift` library.

Yes, you read that right: You need to first be signed in to a package registry. Also, of course the library needs to be available through that registry. Apple [announced](https://www.swift.org/blog/focus-areas-2023/?ref=fline.dev#package-registry)that they are actually aiming to (effectively) replace the currently Git-based dependency management with a registry-based one long term. They will cooperate with the already useful [Swift Package Index](https://swiftpackageindex.com/?ref=fline.dev) project (a website that helps discover packages, hosts documentation & more), which Dave Werver, one of the projects main contributors, confirmed [in his newsletter](https://iosdevweekly.com/issues/586?ref=fline.dev#start). This is likely to become a one-stop place for all of Swift developers to get Open Source libraries from which (I can imagine) could even become the default server built into SwiftPM at some point if adoption is high, similar to how things work with [CocoaPods](https://cocoapods.org/?ref=fline.dev) already (or [RubyGems](https://rubygems.org/?ref=fline.dev) for Ruby / [PyPI](https://pypi.org/?ref=fline.dev) for Python / [npm](https://www.npmjs.com/?ref=fline.dev) for JavaScript). But we’ll see how things will turn out.Now, the new thing this proposal introduces is another authentication method: Currently, only [basic authentication](https://en.wikipedia.org/wiki/Basic_access_authentication?ref=fline.dev) is supported, which limits some interactions. This proposal aims to add [token authentication](https://stackoverflow.com/a/27119226/3451975?ref=fline.dev) and fixes some security aspects of the current authentication system (no project-level auth file & use Keychain on macOS). I’m happy to hear that we are finally getting closer to having a faster and more reliable Swift dependency management system.
